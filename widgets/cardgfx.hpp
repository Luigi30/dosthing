#ifndef CARDGFX_HPP
#define CARDGFX_HPP

#include "..\pcx.hpp"
#include "widget.hpp"
#include "..\bjack\card.hpp"

const unsigned char RANK_ICON_ACE[] = { 13,13,16,16,16,16,16,16,13,13,
                                        13,13,16,16,16,16,16,16,13,13,
                                        16,16,13,13,13,13,13,13,16,16,
                                        16,16,13,13,13,13,13,13,16,16,
                                        16,16,16,16,16,16,16,16,16,16,
                                        16,16,16,16,16,16,16,16,16,16,
                                        16,16,13,13,13,13,13,13,16,16,
                                        16,16,13,13,13,13,13,13,16,16,
                                        16,16,13,13,13,13,13,13,16,16,
                                        16,16,13,13,13,13,13,13,16,16 };
                                                           
const unsigned char RANK_ICON_TWO[] = { 16,16,16,16,16,16,16,16,16,16,
                               16,16,16,16,16,16,16,16,16,16,
                               13,13,13,13,13,13,13,13,16,16,
                               13,13,13,13,13,13,13,13,16,16,
                               16,16,16,16,16,16,16,16,16,16,
                               16,16,16,16,16,16,16,16,16,16,
                               16,16,13,13,13,13,13,13,13,13,
                               16,16,13,13,13,13,13,13,13,13,
                               16,16,16,16,16,16,16,16,16,16,
                               16,16,16,16,16,16,16,16,16,16 };
                                                           
const unsigned char RANK_ICON_THREE[]={ 16,16,16,16,16,16,16,16,16,16,
                               16,16,16,16,16,16,16,16,16,16,
                               13,13,13,13,13,13,13,13,16,16,
                               13,13,13,13,13,13,13,13,16,16,
                               13,13,13,13,16,16,16,16,16,16,
                               13,13,13,13,16,16,16,16,16,16,
                               13,13,13,13,13,13,13,13,16,16,
                               13,13,13,13,13,13,13,13,16,16,
                               16,16,16,16,16,16,16,16,16,16,
                               16,16,16,16,16,16,16,16,16,16 };
                                                           
const unsigned char RANK_ICON_FOUR[] ={ 16,16,13,13,13,13,13,13,16,16,
                               16,16,13,13,13,13,13,13,16,16,
                               16,16,13,13,13,13,13,13,16,16,
                               16,16,13,13,13,13,13,13,16,16,
                               16,16,16,16,16,16,16,16,16,16,
                               16,16,16,16,16,16,16,16,16,16,
                               13,13,13,13,13,13,13,13,16,16,
                               13,13,13,13,13,13,13,13,16,16,
                               13,13,13,13,13,13,13,13,16,16,
                               13,13,13,13,13,13,13,13,16,16 };
                                                           
const unsigned char RANK_ICON_FIVE[] ={ 16,16,16,16,16,16,16,16,16,16,
                               16,16,16,16,16,16,16,16,16,16,
                               16,16,13,13,13,13,13,13,13,13,
                               16,16,13,13,13,13,13,13,13,13,
                               16,16,16,16,16,16,16,16,16,16,
                               16,16,16,16,16,16,16,16,16,16,
                               13,13,13,13,13,13,13,13,16,16,
                               13,13,13,13,13,13,13,13,16,16,
                               16,16,16,16,16,16,16,16,16,16,
                               16,16,16,16,16,16,16,16,16,16 };
                                                           
const unsigned char RANK_ICON_SIX[] = { 16,16,16,16,16,16,16,16,16,16,
                               16,16,16,16,16,16,16,16,16,16,
                               16,16,13,13,13,13,13,13,13,13,
                               16,16,13,13,13,13,13,13,13,13,
                               16,16,16,16,16,16,16,16,16,16,
                               16,16,16,16,16,16,16,16,16,16,
                               16,16,13,13,13,13,13,13,16,16,
                               16,16,13,13,13,13,13,13,16,16,
                               16,16,16,16,16,16,16,16,16,16,
                               16,16,16,16,16,16,16,16,16,16 };
                                                           
const unsigned char RANK_ICON_SEVEN[]={ 16,16,16,16,16,16,16,16,16,16,
                               16,16,16,16,16,16,16,16,16,16,
                               13,13,13,13,13,13,13,13,16,16,
                               13,13,13,13,13,13,13,13,16,16,
                               13,13,13,13,13,13,13,13,16,16,
                               13,13,13,13,13,13,13,13,16,16,
                               13,13,13,13,13,13,13,13,16,16,
                               13,13,13,13,13,13,13,13,16,16,
                               13,13,13,13,13,13,13,13,16,16,
                               13,13,13,13,13,13,13,13,16,16 };
                                                           
const unsigned char RANK_ICON_EIGHT[]={ 16,16,16,16,16,16,16,16,16,16,
                               16,16,16,16,16,16,16,16,16,16,
                               16,16,13,13,13,13,13,13,16,16,
                               16,16,13,13,13,13,13,13,16,16,
                               16,16,16,16,16,16,16,16,16,16,
                               16,16,16,16,16,16,16,16,16,16,
                               16,16,13,13,13,13,13,13,16,16,
                               16,16,13,13,13,13,13,13,16,16,
                               16,16,16,16,16,16,16,16,16,16,
                               16,16,16,16,16,16,16,16,16,16 };
                                                           
const unsigned char RANK_ICON_NINE[]= { 16,16,16,16,16,16,16,16,16,16,
                               16,16,16,16,16,16,16,16,16,16,
                               16,16,13,13,13,13,13,13,16,16,
                               16,16,13,13,13,13,13,13,16,16,
                               16,16,16,16,16,16,16,16,16,16,
                               16,16,16,16,16,16,16,16,16,16,
                               13,13,13,13,13,13,13,13,16,16,
                               13,13,13,13,13,13,13,13,16,16,
                               13,13,13,13,13,13,13,13,16,16,
                               13,13,13,13,13,13,13,13,16,16 };
                                                           
const unsigned char RANK_ICON_TEN[] = { 16,16,13,13,16,16,16,16,16,16,
                               16,16,13,13,16,16,16,16,16,16,
                               16,16,13,13,16,16,13,13,16,16,
                               16,16,13,13,16,16,13,13,16,16,
                               16,16,13,13,16,16,13,13,16,16,
                               16,16,13,13,16,16,13,13,16,16,
                               16,16,13,13,16,16,13,13,16,16,
                               16,16,13,13,16,16,13,13,16,16,
                               16,16,13,13,16,16,16,16,16,16,
                               16,16,13,13,16,16,16,16,16,16 };
                                                           
const unsigned char RANK_ICON_JACK[] ={ 13,13,13,13,13,13,13,13,16,16,
                               13,13,13,13,13,13,13,13,16,16,
                               13,13,13,13,13,13,13,13,16,16,
                               13,13,13,13,13,13,13,13,16,16,
                               16,16,13,13,13,13,13,13,16,16,
                               16,16,13,13,13,13,13,13,16,16,
                               16,16,13,13,13,13,13,13,16,16,
                               16,16,13,13,13,13,13,13,16,16,
                               16,16,16,16,16,16,16,16,16,16,
                               16,16,16,16,16,16,16,16,16,16, };
                                                           
const unsigned char RANK_ICON_QUEEN[]={ 16,16,16,16,16,16,16,16,16,16,
                               16,16,16,16,16,16,16,16,16,16,
                               16,16,13,13,13,13,13,13,16,16,
                               16,16,13,13,13,13,13,13,16,16,
                               16,16,13,13,13,13,13,13,16,16,
                               16,16,13,13,13,13,13,13,16,16,
                               16,16,13,13,13,13,16,16,16,16,
                               16,16,13,13,13,13,16,16,16,16,
                               16,16,16,16,16,16,16,16,16,16,
                               16,16,16,16,16,16,16,16,16,16 };
                                                           
const unsigned char RANK_ICON_KING[] ={ 16,16,13,13,13,13,13,13,16,16,
                               16,16,13,13,13,13,13,13,16,16,
                               16,16,13,13,13,13,16,16,13,13,
                               16,16,13,13,13,13,16,16,13,13,
                               16,16,16,16,16,16,13,13,13,13,
                               16,16,16,16,16,16,13,13,13,13,
                               16,16,13,13,13,13,16,16,13,13,
                               16,16,13,13,13,13,16,16,13,13,
                               16,16,13,13,13,13,13,13,16,16,
                               16,16,13,13,13,13,13,13,16,16 };

const unsigned char* rankIconPointers[] = { RANK_ICON_ACE, RANK_ICON_TWO, RANK_ICON_THREE, RANK_ICON_FOUR, RANK_ICON_FIVE, RANK_ICON_SIX, RANK_ICON_SEVEN, RANK_ICON_EIGHT, RANK_ICON_NINE, RANK_ICON_TEN, RANK_ICON_JACK, RANK_ICON_QUEEN, RANK_ICON_KING };

const Size2D ICON_SIZE = Size2D(10, 10);
const int ICON_SCALE_FACTOR = 1;
const Point RANK_POSITION = Point(2, 5);
const Point SUIT_POSITION = Point(2, 16);

//graphics
static PCX blankCard = PCX("C_BLANK.PCX");
static PCX suitIcons = PCX("SUITGFX.PCX");

static unsigned char PCX_SUIT_ICON_DIAMOND[100];
static unsigned char PCX_SUIT_ICON_HEART[100];
static unsigned char PCX_SUIT_ICON_CLUB[100];
static unsigned char PCX_SUIT_ICON_SPADE[100];

class W_Card_Graphic : public Widget {
    char rank;
    char suit;
    bool faceUp;
    
    public:
    static void loadGraphics();
    
    W_Card_Graphic();
    W_Card_Graphic(std::string _name, Point _position, char _rank, char _suit, bool _faceUp);
    W_Card_Graphic(std::string _name, Point _position, Card _card, bool _faceUp);

    virtual void redraw(Framebuffer *background, Framebuffer *text);
    virtual int pointIsInside(Point _point);
    void W_Card_Graphic::drawRankAndSuitIcons(Framebuffer* layer, char rank, char suit);
    void W_Card_Graphic::drawIcon(Framebuffer*, const unsigned char*, Point, Size2D);
};

#endif
